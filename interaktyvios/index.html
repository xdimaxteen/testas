<!DOCTYPE html>
<html>
<head>
<title>Muzikos pamoka - natos</title>
<meta charset="utf-8" />
<script src="phonegap.js"></script>
<meta name="keywords" content="">
<link rel="stylesheet" type="text/css" href="style.css" media="all" />
<style type="text/css">
</style>
</head>
<body onload="perpiesti();">
	<div class="page clearfix">
		<nav class="page-nav">
			<h1 class="logo">Muzikos Pamoka </h1>
			<ul class="meniu">
				<!--<li><a>=</a></li>-->
				<li> <a  href="./index.html">Pradėti</a> </li>
			</ul>
		</nav>
		
		<div class="mid">
			<div class ="content-wrapper clearfix">
				<!--<div id="taskai" ><b>0</b></div>-->
				
					<canvas	id="canvas" width="800" height="350"></canvas>
					
			</div><!--content wrapper-->
		</div>
		
		<div class="bot clearfix">
							<div id="p-wrapper">
								<ul class="piano-ul" id="piano">
									<!--<li><div class="anchor"></div></li>
									<li><div class="anchor"></div><span></span></li>-->
									<li ><button class="anchor" name="0"  ></button><!--<span></span>--></li>
									<li ><button class="anchor" name="7" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Do</p></button></li>
									<li ><button class="anchor" name="1" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Re</p></button><span></span></li>
									<li ><button class="anchor" name="2" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Me</p></button><span></span></li>
									<li ><button class="anchor" name="3" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Fa</p></button></li>
									<li ><button class="anchor" name="4" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Sol</p></button><span></span></li>
									<li ><button class="anchor" name="5" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">La </p></button><span></span></li>
									<li ><button class="anchor" name="6" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Si </p></button><span></span></li>
									<li ><button class="anchor" name="7" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();"><p class="name">Do </p></button><span></span></li>									
									<li><button class="anchor" name="0"  ></button></li>
									

								</ul>
							</div>
		</div>
		<!--<form name="atsakymai1" >
			<input class="answer" type="button" name="7" value="C"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="1" value="D"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="2" value="E"  onclick="atsakymas(this.name); perpiesti();"> 
			<input class="answer" type="button" name="3" value="F"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="4" value="G"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="5" value="A"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="6" value="H"  onclick="atsakymas(this.name); perpiesti();">
		</form>
		<form name="atsakymai1" >
			<button class="answer" type="button" name="7" value="C"  onclick="atsakymas(this.name); perpiesti();">do</button>
			<button class="answer" type="button" name="1" value="D"  onclick="atsakymas(this.name); perpiesti();">re</button>
			<button class="answer" type="button" name="2" value="E"  onclick="atsakymas(this.name); perpiesti();">mi</button>
			<button class="answer" type="button" name="3" value="F"  onclick="atsakymas(this.name); perpiesti();">fa</button>
			<button class="answer" type="button" name="4" value="G"  onclick="atsakymas(this.name); perpiesti();">sol</button>
			<button class="answer" type="button" name="5" value="A"  onclick="atsakymas(this.name); perpiesti();">la</button>
			<button class="answer" type="button" name="6" value="H"  onclick="atsakymas(this.name); perpiesti();">si</button>
		</form>-->
		<!--<footer class="page-footer">		
			<p></p>
		</footer>-->
	</div><!--page-->
<script type="text/javascript">
var canvas = document.getElementById('canvas'),
    context = canvas.getContext('2d'),
    endPoints = [
      // { x: 0, y: 0 },
      // { x: 600, y: 350 },
	     { x: 0, y: 0 },
         { x: 1000, y: 1000 },
    ],
    controlPoints = [
       { x: 0, y: 0 },
       { x: 1000, y: 1000 },
    ];
var	points = 0;
var note =0;
function drawStaff(color, stepx, stepy) {
	context.save()
	context.strokeStyle = color;
	context.lineWidth = 2;
	for (var i = 80; i <= 260; i += 40) {
		context.beginPath();
		context.moveTo(0, i);
		context.lineTo(context.canvas.width, i);
		context.stroke();
   }
   context.restore();
}
function drawOval(centerY, centerX, radius){
    context.save();
    context.beginPath();//  circle
    context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
	context.fill();
	context.beginPath();//kojele
	context.moveTo(centerX+radius-1, centerY);
    context.lineTo(centerX+radius-1, centerY-70);
    context.stroke();
    context.restore();
	context.fillStyle = 'black';
    context.lineWidth = 5;
    context.strokeStyle = 'black';
    context.stroke();
	context.restore();
}
function drawNote(){
note = Math.floor((Math.random()*10)+1);
switch(note){
case 1:
    drawOval(260,350,15);
  break;
case 2:
    drawOval(240,350,15);	
  break;
case 3:
    drawOval(220,350,15);
  break;
case 4:
    drawOval(200,350,15);
  break;
case 5:
    drawOval(180,350,15);
  break;
case 6:
    drawOval(160,350,15); 
  break;  
case 7:
    drawOval(140,350,15); //context.fillText("1", 430, 200);
  break; 
case 8:
    drawOval(120,350,15);
  break; 
case 9:
    drawOval(100,350,15);
	 break; 
case 10:
    drawOval(80,350,15);
  break;  
default:
	drawOval(80,350,15);
  break;  
}
}
function atsakymas(reiksme){

var clickSound = new Audio("1.wav");
	clickSound.play();
	//playAudio("4.mp3");
	//playAudioA("4.mp3");
var temp = parseInt(reiksme)+7;
	if(reiksme == note || note == temp ){
		points+=1;
	//	document.getElementById("taskai").value = points;
	}
	else{
		points-=1;
	//	document.getElementById("taskai").value = points;
	}
	//	var y=document.getElementById("taskai");
	//	y.innerHTML=points;
		
}
function playAudioA(src) { 

src = '/android_asset/www/'+src; 
var media = new Media(src, success, error_error); 

media.play(); 

} 
function playAudio(src) { 

src = '/assets/www/'+src; 
var media = new Media(src, success, error_error); 

media.play(); 

} 
function perpiesti(){
context.clearRect(0, 0, canvas.width, canvas.height);
drawStaff('black', 10, 10);
drawNote();
//drawShape();
context.font = "bold 48px sans-serif";
context.fillText("Taškai:", 450, 300);
context.fillText(points, 630, 300);

var img = new Image();
img.onload = function() {
    context.drawImage(img, 0, -10);
}
  img.src = "key.png"


}
 function drawShape(){
     //   var canvas = document.getElementById('cssxCoordinates');
       // if (canvas.getContext){
        //    var ctx = canvas.getContext('2d');
			var	ctx = context;					
            ctx.beginPath();
            ctx.moveTo(159,3);
            ctx.quadraticCurveTo(129, 50,117, 93);
            ctx.quadraticCurveTo(107,126,102,167);
            ctx.quadraticCurveTo(101,192,102,210);
            ctx.quadraticCurveTo(107,255,116,297);
            ctx.quadraticCurveTo( 63,351, 44,375);
            ctx.quadraticCurveTo( 24,401, 15,429);
            ctx.quadraticCurveTo(  2,464,  3,503);
            ctx.quadraticCurveTo(  5,540, 20,575);
            ctx.quadraticCurveTo( 29,596, 48,615); 
            ctx.quadraticCurveTo( 62,630, 87,645); 
            ctx.quadraticCurveTo(113,660,150,666);
            ctx.quadraticCurveTo(177,668,194,665); 
            ctx.quadraticCurveTo(204,720,213,776);
            ctx.quadraticCurveTo(216,795,216,813);
            ctx.quadraticCurveTo(203,849,158,857);
            ctx.quadraticCurveTo(132,857,120,842);
            ctx.quadraticCurveTo(152,845,166,813);
            ctx.quadraticCurveTo(165,821,168,802); 
            ctx.quadraticCurveTo(166,775,151,765); 
            ctx.quadraticCurveTo(132,750,107,758);
            ctx.quadraticCurveTo( 86,768, 78,789);
            ctx.quadraticCurveTo( 71,818, 90,840);
            ctx.quadraticCurveTo(105,857,129,865); 
            ctx.quadraticCurveTo(149,872,177,865); 
            ctx.quadraticCurveTo(194,860,209,846);
            ctx.quadraticCurveTo(231,828,230,803);
            ctx.quadraticCurveTo(221,735,207,662);
            ctx.quadraticCurveTo(248,650,267,626);
            ctx.quadraticCurveTo(293,599,296,566);
            ctx.quadraticCurveTo(300,527,285,494);
            ctx.quadraticCurveTo(270,462,234,444);
            ctx.quadraticCurveTo(215,435,189,435);
            ctx.quadraticCurveTo(177,435,164,438);
            ctx.quadraticCurveTo(155,396,146,354);
            ctx.quadraticCurveTo(183,315,203,275);
            ctx.quadraticCurveTo(219,243,222,210);
            ctx.quadraticCurveTo(227,167,221,137);
            ctx.quadraticCurveTo(213, 93,192, 51);
            ctx.quadraticCurveTo(180, 29,159,  3);
            
            ctx.fill();
            
            ctx.fillStyle = "white";
            ctx.beginPath();
            ctx.moveTo(191,93);
            ctx.quadraticCurveTo(179, 83,171, 93);
            ctx.quadraticCurveTo(126,162,131,281);
            ctx.quadraticCurveTo(188,239,203,188);
            ctx.quadraticCurveTo(209,162,204,135);
            ctx.quadraticCurveTo(200,111,191, 93);			 
            ctx.fill();
            
            //ctx.fillStyle = "white";
           // ctx.beginPath();
           // ctx.moveTo(171,473);
          //  ctx.quadraticCurveTo(188,555,206,648); 
           // ctx.quadraticCurveTo(237,639,255,620);
           // ctx.quadraticCurveTo(283,588,283,558);
           // ctx.quadraticCurveTo(285,525,269,501);
           // ctx.quadraticCurveTo(252,476,216,470);
           // ctx.quadraticCurveTo(194,465,171,473);
            
          //  ctx.fill();
            
          //  ctx.fillStyle = "white";
          //  ctx.beginPath();	
          //  ctx.moveTo(147,446);
          //  ctx.quadraticCurveTo(141,411,132,369);
          //  ctx.quadraticCurveTo(90,401,68,435);
          //  ctx.quadraticCurveTo(45,467,39,503);
          //  ctx.quadraticCurveTo(30,540,45,576);
          //  ctx.quadraticCurveTo(60,612,92,633);
          //  ctx.quadraticCurveTo(123,651,161,654);
          //  ctx.quadraticCurveTo(174,654,188,653);
          //  ctx.fill();
            
            ctx.fillStyle = "black";
            ctx.beginPath();
            ctx.moveTo(147,444);
            ctx.quadraticCurveTo(120,456,101,480);
            ctx.quadraticCurveTo( 83,504, 84,536);
            ctx.quadraticCurveTo( 86,567,107,588);
            ctx.quadraticCurveTo(114,597,126,605);
            ctx.quadraticCurveTo(116,593,107,581);
            ctx.quadraticCurveTo( 95,560, 99,537);
            ctx.quadraticCurveTo(105,509,132,491);
            ctx.quadraticCurveTo(143,482,164,476);
            
            ctx.fill();    
			}
</script>
</body>
</html>
