<!DOCTYPE html>
<html>
<head>
<title>Muzikos pamoka - natos</title>
<meta charset="utf-8" />
<script src="phonegap.js"></script>
<meta name="keywords" content="">
<link rel="stylesheet" type="text/css" href="style.css" media="all" />
<style type="text/css">
</style>
</head>
<body onload="perpiesti();">
	<div class="page clearfix">
		<nav class="page-nav">
			<h1 class="logo">Muzikos Pamoka </h1>
			<ul class="meniu">
				<!--<li><a>=</a></li>-->
				<li> <a  href="./index.html">Pradėti</a> </li>
				<li> <a  href="#" onclick="navigator.app.exitApp()">Exit</a> </li>
			</ul>
		</nav>
		
		<div class="mid">
			<div class ="content-wrapper clearfix">
				<!--<div id="taskai" ><b>0</b></div>-->
				
					<canvas	id="canvas" width="800" height="350"></canvas>
					
			</div><!--content wrapper-->
		</div>
		
		<div class="bot clearfix">
							<div id="p-wrapper">
								<ul class="piano-ul" id="piano">
									<!--<li><div class="anchor"></div></li>
									<li><div class="anchor"></div><span></span></li>-->
									<li ><button class="anchor" name="0"  ></button><!--<span></span>--></li>
									<li ><button class="anchor" name="7" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();  playAudio('4.mp3');"><p class="name">Do</p></button></li>
									<li ><button class="anchor" name="1" type="button" value="C"  onclick="atsakymas(this.name); perpiesti(); playAudio('4.mp3'); "><p class="name">Re</p></button><span></span></li>
									<li ><button class="anchor" name="2" type="button" value="C"  onclick="atsakymas(this.name); perpiesti(); playAudio('4.mp3'); "><p class="name">Me</p></button><span></span></li>
									<li ><button class="anchor" name="3" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();  playAudio('4.mp3');"><p class="name">Fa</p></button></li>
									<li ><button class="anchor" name="4" type="button" value="C"  onclick="atsakymas(this.name); perpiesti();  playAudio('4.mp3');"><p class="name">Sol</p></button><span></span></li>
									<li ><button class="anchor" name="5" type="button" value="C"  onclick="atsakymas(this.name); perpiesti(); playAudio('4.mp3'); "><p class="name">La </p></button><span></span></li>
									<li ><button class="anchor" name="6" type="button" value="C"  onclick="atsakymas(this.name); perpiesti(); playAudio('4.mp3'); "><p class="name">Si </p></button><span></span></li>
									<li ><button class="anchor" name="7" type="button" value="C"  onclick="atsakymas(this.name); perpiesti(); playAudio('4.mp3'); "><p class="name">Do </p></button><span></span></li>									
									<li><button class="anchor" name="0"  ></button></li>
									

								</ul>
							</div>
		</div>
		<!--<form name="atsakymai1" >
			<input class="answer" type="button" name="7" value="C"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="1" value="D"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="2" value="E"  onclick="atsakymas(this.name); perpiesti();"> 
			<input class="answer" type="button" name="3" value="F"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="4" value="G"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="5" value="A"  onclick="atsakymas(this.name); perpiesti();">
			<input class="answer" type="button" name="6" value="H"  onclick="atsakymas(this.name); perpiesti();">
		</form>
		<form name="atsakymai1" >
			<button class="answer" type="button" name="7" value="C"  onclick="atsakymas(this.name); perpiesti();">do</button>
			<button class="answer" type="button" name="1" value="D"  onclick="atsakymas(this.name); perpiesti();">re</button>
			<button class="answer" type="button" name="2" value="E"  onclick="atsakymas(this.name); perpiesti();">mi</button>
			<button class="answer" type="button" name="3" value="F"  onclick="atsakymas(this.name); perpiesti();">fa</button>
			<button class="answer" type="button" name="4" value="G"  onclick="atsakymas(this.name); perpiesti();">sol</button>
			<button class="answer" type="button" name="5" value="A"  onclick="atsakymas(this.name); perpiesti();">la</button>
			<button class="answer" type="button" name="6" value="H"  onclick="atsakymas(this.name); perpiesti();">si</button>
		</form>-->
		<!--<footer class="page-footer">		
			<p></p>
		</footer>-->
	</div><!--page-->
<script type="text/javascript">
var canvas = document.getElementById('canvas'),
    context = canvas.getContext('2d'),
    endPoints = [
      // { x: 0, y: 0 },
      // { x: 600, y: 350 },
	     { x: 0, y: 0 },
         { x: 1000, y: 1000 },
    ],
    controlPoints = [
       { x: 0, y: 0 },
       { x: 1000, y: 1000 },
    ];
var	points = 0;
var note =0;
function drawStaff(color, stepx, stepy) {
	context.save()
	context.strokeStyle = color;
	context.lineWidth = 2;
	for (var i = 80; i <= 260; i += 40) {
		context.beginPath();
		context.moveTo(0, i);
		context.lineTo(context.canvas.width, i);
		context.stroke();
   }
   context.restore();
}
function drawOval(centerY, centerX, radius){
    context.save();
    context.beginPath();//  circle
    context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
	context.fill();
	context.beginPath();//kojele
	context.moveTo(centerX+radius-1, centerY);
    context.lineTo(centerX+radius-1, centerY-70);
    context.stroke();
    context.restore();
	context.fillStyle = 'black';
    context.lineWidth = 5;
    context.strokeStyle = 'black';
    context.stroke();
	context.restore();
}
function drawNote(){
note = Math.floor((Math.random()*10)+1);
switch(note){
case 1:
    drawOval(260,350,15);
  break;
case 2:
    drawOval(240,350,15);	
  break;
case 3:
    drawOval(220,350,15);
  break;
case 4:
    drawOval(200,350,15);
  break;
case 5:
    drawOval(180,350,15);
  break;
case 6:
    drawOval(160,350,15); 
  break;  
case 7:
    drawOval(140,350,15); //context.fillText("1", 430, 200);
  break; 
case 8:
    drawOval(120,350,15);
  break; 
case 9:
    drawOval(100,350,15);
	 break; 
case 10:
    drawOval(80,350,15);
  break;  
default:
	drawOval(80,350,15);
  break;  
}
}
function atsakymas(reiksme){
//playAudio("4.mp3");
//var clickSound = new Audio("1.wav");
	//clickSound.play();
	//playAudio("4.mp3");
	//playAudioA("4.mp3");
	//playAudioAA("4.mp3");
var temp = parseInt(reiksme)+7;
	if(reiksme == note || note == temp ){
		points+=1;
	//	document.getElementById("taskai").value = points;
	}
	else{
		points-=1;
	//	document.getElementById("taskai").value = points;
	}
	//	var y=document.getElementById("taskai");
	//	y.innerHTML=points;
		
}
function playAudioAA(src) { 

src = '/android_asset/www/'+src; 
var media = new Media(src, success, error_error); 

media.play(); 

} 
function playAudioA(src) { 

src = '/assets/www/'+src; 
var media = new Media(src, success, error_error); 

media.play(); 

} 
function perpiesti(){
context.clearRect(0, 0, canvas.width, canvas.height);
drawStaff('black', 10, 10);
drawNote();
//drawShape();
context.font = "bold 48px sans-serif";
context.fillText("Taškai:", 450, 300);
context.fillText(points, 630, 300);

var img = new Image();
img.onload = function() {
    context.drawImage(img, 0, -10);
}
  img.src = "key.png"


}
 function playAudio(src) {
            if (device.platform == 'Android') {
                src = '/android_asset/www/' + src;
            }
			 src = '/android_asset/www/' + src;
            var media = new Media(src, success, error_error);
 
            media.play();
        }
 		
			
</script>
</body>
</html>
